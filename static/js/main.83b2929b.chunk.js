(this["webpackJsonprest-countries"]=this["webpackJsonprest-countries"]||[]).push([[0],{30:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(21),a=c.n(s),i=c(4),o=(c(30),c(8)),j=c.n(o),b=c(13),l=c(0);var u=function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("img",{src:e.country.flags.png,alt:"country-flag"}),Object(l.jsxs)("div",{className:"card-details",children:[Object(l.jsx)("h3",{children:e.country.name.common}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Population:"})," ",e.country.population]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Region:"})," ",e.country.region]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Capital:"})," ",e.country.capital]})]})]})},h=c(3);var d=function(e){var t=new URLSearchParams(Object(h.g)().search),c=Object(h.h)().regionName,r=Object(n.useState)(),s=Object(i.a)(r,2),a=s[0],o=s[1],d=function(){var n=Object(b.a)(j.a.mark((function n(){var r,s,a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setProgress(30),r=t.get("q")?"https://restcountries.com/v3.1/name/".concat(t.get("q")):c?"https://restcountries.com/v3.1/region/".concat(c):"https://restcountries.com/v3.1/all",n.next=4,fetch(r);case 4:return s=n.sent,e.setProgress(50),n.next=8,s.json();case 8:a=n.sent,e.setProgress(70),o(a),e.setProgress(100);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[c]),Object(l.jsxs)("div",{className:"countries",children:[a&&a.map((function(t){return Object(l.jsx)("div",{className:"light"===e.theme?"country-card":"country-card country-card-dark",onClick:function(){return c=t,void e.setCountry(c.name.common);var c},children:Object(l.jsx)(u,{country:t})},t.name.common)})),";"]})},O=c(9),x=c(10);var p=function(e){return Object(l.jsxs)("div",{className:"light"===e.theme?"nav-bar":"nav-bar nav-bar-dark",children:[Object(l.jsx)("a",{href:"/",children:Object(l.jsx)("h1",{children:"Where in the world?"})}),Object(l.jsxs)("p",{onClick:function(){"light"===e.theme?e.setTheme("dark"):e.setTheme("light")},children:[Object(l.jsx)(O.a,{icon:x.b})," Dark Mode"]})]})},g=c(16);var m=function(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(""),o=Object(i.a)(a,2),j=o[0],b=o[1];return Object(n.useEffect)((function(){j&&e.setFinalReg(j)}),[j]),Object(l.jsxs)("div",{className:"light"===e.theme?"filter-bar":"filter-bar filter-bar-dark",children:[Object(l.jsxs)("div",{className:"light"===e.theme?"custom-search-bar":"custom-search-bar custom-search-bar-dark",children:[Object(l.jsx)(g.b,{to:{pathname:"/query",search:"?q="+r},children:Object(l.jsx)("button",{onClick:function(){e.setFinal(r)},children:Object(l.jsx)(O.a,{icon:x.c})})}),Object(l.jsx)("input",{onChange:function(e){s(e.target.value)},type:"text",placeholder:"Search for a country",name:"q",value:r})]}),Object(l.jsxs)("select",{onChange:function(e){b(e.target.value)},name:"region",id:"region",defaultValue:"DEFAULT",children:[Object(l.jsx)("option",{value:"DEFAULT",disabled:!0,hidden:!0,children:"Filter by Region"}),Object(l.jsx)("option",{value:"africa",children:"Africa"}),Object(l.jsx)("option",{value:"america",children:"America"}),Object(l.jsx)("option",{value:"asia",children:"Asia"}),Object(l.jsx)("option",{value:"europe",children:"Europe"}),Object(l.jsx)("option",{value:"oceania",children:"Oceania"})]})]})},f=c(25),v=c(6),y=c.n(v);var k=function(e){var t=Object(n.useState)(),c=Object(i.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)([]),o=Object(i.a)(a,2),u=o[0],h=o[1],d=function(){var t=Object(b.a)(j.a.mark((function t(){var c,n,r,a,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.country){t.next=15;break}return e.setProgress(10),c="https://restcountries.com/v3.1/name/".concat(e.country),t.next=5,fetch(c);case 5:return n=t.sent,e.setProgress(40),t.next=9,n.json();case 9:r=t.sent,a=Object(i.a)(r,1),o=a[0],e.setProgress(70),s(o),y.a.has(o,"borders")&&o.borders.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var c,n,r,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://restcountries.com/v3.1/alpha/".concat(t),e.next=3,fetch(c);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,s=Object(i.a)(r,1),a=s[0],h((function(e){return[].concat(Object(f.a)(e),[a.name.common])}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.setProgress(100);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){console.log("called"),d()}),[]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("button",{className:"light"===e.theme?"back-btn":"back-btn back-btn-dark",onClick:function(){e.setCountry("")},children:[Object(l.jsx)(O.a,{icon:x.a})," Back "]}),Object(l.jsxs)("div",{className:"country-details",children:[Object(l.jsx)("img",{src:r&&r.flags.png,alt:e.country+"-Flag"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:y.a.has(r,"name")&&r.name.common}),Object(l.jsxs)("div",{className:"details",children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Native Name:"})," ",y.a.has(r,"name")&&r.name.official]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Population:"})," ",y.a.has(r,"population")&&r.population]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Region:"})," ",y.a.has(r,"region")&&r.region]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Sub Region:"})," ",y.a.has(r,"subregion")&&r.subregion]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Capital:"})," ",y.a.has(r,"capital")&&r.capital[0]]})]}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Top Level Domain:"})," ",y.a.has(r,"tld")&&r.tld[0]]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Currencies:"})," ",y.a.has(r,"currencies")&&y.a.values(r.currencies)[0].name]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Languages:"})," ",y.a.has(r,"languages")&&y.a.join(y.a.valuesIn(r.languages),", ")]})]})]}),Object(l.jsxs)("p",{style:{paddingTop:"50px"},children:[Object(l.jsx)("strong",{children:"Border Countries:"}),u.length>=1?u.map((function(t){return Object(l.jsx)("button",{className:"light"===e.theme?"border-btn":"border-btn border-btn-dark",onClick:function(){return c=t,void e.setCountry(c);var c},children:t},t)})):Object(l.jsx)("button",{className:"light"===e.theme?"border-btn":"border-btn border-btn-dark",children:"N/A"})]})]})]})]})},C=c(24);var N=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(""),a=Object(i.a)(s,2),o=a[0],j=a[1],b=Object(n.useState)(),u=Object(i.a)(b,2),O=u[0],x=u[1],f=Object(n.useState)("light"),v=Object(i.a)(f,2),y=v[0],N=v[1],P=Object(n.useState)(0),S=Object(i.a)(P,2),F=S[0],w=S[1];return Object(l.jsx)("div",{className:"light"===y?"app":"app app-dark",children:Object(l.jsxs)(g.a,{children:[Object(l.jsx)(p,{theme:y,setTheme:N}),Object(l.jsx)(C.a,{height:3,color:"light"!==y?"#16E2F5":"#FF5151",progress:F}),!O&&Object(l.jsx)(m,{theme:y,setFinal:r,setFinalReg:j}),o&&Object(l.jsx)(h.a,{to:"/region/"+o}),O?Object(l.jsx)(h.a,{to:"/country/"+O}):Object(l.jsx)(h.a,{to:"/"}),Object(l.jsxs)(h.d,{children:[Object(l.jsx)(h.b,{exact:!0,path:"/",children:Object(l.jsx)(d,{theme:y,setCountry:x,setProgress:w})}),Object(l.jsx)(h.b,{exact:!0,path:"/query",children:Object(l.jsx)(d,{theme:y,setCountry:x,setProgress:w},c)}),Object(l.jsx)(h.b,{exact:!0,path:"/region/:regionName",children:Object(l.jsx)(d,{theme:y,setCountry:x,setProgress:w})}),Object(l.jsx)(h.b,{exact:!0,path:"/country/:countryName",children:Object(l.jsx)(k,{theme:y,country:O,setCountry:x,setProgress:w},O)})]})]})})};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.83b2929b.chunk.js.map